<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>File Report</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css"> 
  <!-- Add Signature Pad library -->
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
  <!-- Replace Flatpickr with Rolldate -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/rolldate@3.1.3/dist/rolldate.min.css">
  <script src="https://cdn.jsdelivr.net/npm/rolldate@3.1.3/dist/rolldate.min.js"></script>
</head>
<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-12"> 
        <div>
          <div class="card-body p-4 p-md-5">
            <div class="text-center mb-4">
              <h5 class="card-title mb-3">File a Report</h5>
            </div>

            <div class="mb-4">
              <div class="btn-group d-flex" role="group" aria-label="User type selection">
                <input type="radio" class="btn-check" name="formType" id="showStaffForm" value="staff" autocomplete="off">
                <label class="btn btn-outline-primary w-100" for="showStaffForm">Staff</label>

                <input type="radio" class="btn-check" name="formType" id="showCustomerForm" value="customer" autocomplete="off">
                <label class="btn btn-outline-primary w-100" for="showCustomerForm">Customer</label>
                
                <input type="radio" class="btn-check" name="formType" id="showDashcamForm" value="dashcam" autocomplete="off">
                <label class="btn btn-outline-primary w-100" for="showDashcamForm">Dashcam</label>
              </div>
            </div>

            <!-- Form Type Headings -->
            <div id="staffFormHeading" class="text-center mb-4" style="display: none;">
              <small class="text-muted">Welcome to the staff report page</small>
            </div>
            <div id="customerFormHeading" class="text-center mb-4" style="display: none;">
              <small class="text-muted">Welcome to the customer report page</small>
            </div>
            <div id="dashcamFormHeading" class="text-center mb-4" style="display: none;">
              <small class="text-muted">Welcome to the dashcam report page</small>
            </div>

            <!-- Staff Form -->
            <form method="POST" id="staffForm" style="display: none;">
              <div class="mb-3">
                <input type="text" class="form-control" id="staffFullName" name="fullName" placeholder="Full Name" required>
              </div>

              <!-- Add Subject field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="staffSubject" name="subject" placeholder="Subject" required>
              </div>
              
              <!-- Add Place field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="staffPlace" name="place" placeholder="Place" required>
              </div>

              <div class="mb-3">
                <input type="number" class="form-control" id="staffAge" name="age" placeholder="Age" required>
              </div>

              <div class="mb-3">
                <select class="form-select" id="staffReportTemplate" name="staffReport" title="Staff Report" required>
                  <option value="" selected>Staff Report Template</option>
                  <option value="staff1">Staff 1</option>
                  <option value="staff2">Staff 2</option>
                  <option value="staff3">Staff 3</option>
                </select>
              </div>

              <div class="mb-3">
                <textarea class="form-control" id="staffReportNotes" name="reportNotes" rows="5" placeholder="Type your report notes here..." required></textarea>
              </div>

              <div class="mb-3">
                <select class="form-select" id="staffType" name="staffType" title="Staff Type" required>
                  <option value="" selected>Position</option> 
                  <option value="supervisor">Supervisor</option>
                  <option value="manager">Manager</option>
                  <option value="director">Director</option>
                  <option value="sales">Sales</option> 
                </select>
              </div>

              <!-- Office field for staff -->
              <div class="mb-3">
                <input type="text" class="form-control" id="staffOffice" name="staffOffice" placeholder="Office Location">
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="staffSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="staffSigCanvas">Clear</button>
                </div>
              </div>

              <div class="witness-section"> 
                <div class="mb-3">
                  <input type="text" class="form-control" id="witnessName" name="witnessName" placeholder="Witness Name">
                </div>
                
                <div class="mb-3">
                  <select class="form-select" id="witnessPosition" name="witnessPosition" title="Witness Position">
                    <option value="" selected>Witness Position</option>
                    <option value="supervisor">Supervisor</option>
                    <option value="manager">Manager</option>
                    <option value="director">Director</option>
                    <option value="sales">Sales</option>
                  </select>
                </div>                

              <!-- Add Office field for witness -->
              <div class="mb-3">
                <input type="text" class="form-control" id="witnessOffice" name="witnessOffice" placeholder="Office Location">
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="witnessSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="witnessSigCanvas">Clear</button>
                </div>
              </div>
              </div>

              <input type="hidden" name="staffSignature" id="staffSignature">
              <input type="hidden" name="witnessSignature" id="witnessSignature">
              <input type="hidden" name="userType" value="staff">
              <input type="hidden" name="witnessPosition" id="hiddenWitnessPosition">

              <div class="mt-3">
                <button type="submit" class="btn btn-primary w-100 mb-2">Generate PDF</button>
                <button type="button" id="resetStaffForm" class="btn btn-secondary w-100">Reset All</button>
              </div>
            </form>

            <!-- Customer Form -->
            <form method="POST" id="customerForm" style="display: none;">
              <div class="mb-3">
                <input type="text" class="form-control" id="customerFullName" name="fullName" placeholder="Full Name" required>
              </div>

              <!-- Add Subject field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="customerSubject" name="subject" placeholder="Subject" required>
              </div>
              
              <!-- Add Place field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="customerPlace" name="place" placeholder="Place" required>
              </div>

              <div class="mb-3">
                <input type="text" class="form-control" id="customerDob" name="dob" placeholder="Date of Birth (DD/MM/YYYY)" required>
              </div>

              <div class="mb-3">
                <select class="form-select" id="customerReportType" name="reportType" title="Report Type" required>
                  <option value="" selected>Report Type</option>
                  <option value="deposit">Deposit</option>
                  <option value="cancel">Cancel</option>
                </select>
              </div>

              <div class="mb-3">
                <textarea class="form-control" id="customerReportNotes" name="reportNotes" rows="5" placeholder="Type your report notes here..." required></textarea>
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="customerSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="customerSigCanvas">Clear</button>
                </div>
              </div>

              <!-- Witness fields for Customer -->
              <div class="mb-3">
                <input type="text" class="form-control" id="customerWitnessName" name="customerWitnessName" placeholder="Witness Name">
              </div>

              <div class="mb-3">
                <select class="form-select" id="customerWitnessPosition" name="customerWitnessPosition" title="Witness Position">
                  <option value="" selected>Witness Position</option>
                  <option value="supervisor">Supervisor</option>
                  <option value="manager">Manager</option>
                  <option value="director">Director</option>
                  <option value="sales">Sales</option>
                </select>
              </div>
              
              <!-- Add Office field for witness -->
              <div class="mb-3">
                <input type="text" class="form-control" id="customerWitnessOffice" name="customerWitnessOffice" placeholder="Office Location">
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="customerWitnessSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="customerWitnessSigCanvas">Clear</button>
                </div>
              </div>

              <input type="hidden" name="customerSignature" id="customerSignature">
              <input type="hidden" name="customerWitnessSignature" id="customerWitnessSignature">
              <input type="hidden" name="userType" value="customer">

              <div class="mt-3">
                <button type="submit" class="btn btn-primary w-100 mb-2">Generate PDF</button>
                <button type="button" id="resetCustomerForm" class="btn btn-secondary w-100">Reset All</button>
              </div>
            </form>

            <!-- Dashcam Form -->
            <form method="POST" id="dashcamForm" style="display: none;">
              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamFullName" name="fullName" placeholder="Full Name" required>
              </div>

              <!-- Add Subject field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamSubject" name="subject" placeholder="Subject" required>
              </div>
              
              <!-- Add Place field -->
              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamPlace" name="place" placeholder="Place" required>
              </div>

              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamDob" name="dob" placeholder="Date of Birth (DD/MM/YYYY)" required>
              </div>

              <div class="form-floating mb-3">
                  <input type="text" class="form-control" id="dashcamTime" name="dashcamTime" placeholder="Select Dashcam Time" required autocomplete="off">
                  <label for="floatingInput">Dashcam Time</label>
              </div>

              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="dashcamRealTime" name="realTime" placeholder="Select Real Time" required disabled>
                <label for="floatingInput">Real Time</label>
              </div>

              <div class="mb-3">
                <select class="form-select" id="dashcamReportType" name="reportType" title="Report Type" required>
                  <option value="" selected>Report Type</option>
                  <option value="typeA">Type A</option>
                  <option value="typeB">Type B</option>
                </select>
              </div>

              <div class="mb-3">
                <textarea class="form-control" id="dashcamReportNotes" name="reportNotes" rows="5" placeholder="Type your report notes here..." required></textarea>
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="dashcamSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="dashcamSigCanvas">Clear</button>
                </div>
              </div>

              <!-- Witness fields for Dashcam -->
              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamWitnessName" name="dashcamWitnessName" placeholder="Witness Name">
              </div>

              <div class="mb-3">
                <select class="form-select" id="dashcamWitnessPosition" name="dashcamWitnessPosition" title="Witness Position">
                  <option value="" selected>Witness Position</option>
                  <option value="supervisor">Supervisor</option>
                  <option value="manager">Manager</option>
                  <option value="director">Director</option>
                  <option value="sales">Sales</option>
                </select>
              </div>
              
              <!-- Add Office field for witness -->
              <div class="mb-3">
                <input type="text" class="form-control" id="dashcamWitnessOffice" name="dashcamWitnessOffice" placeholder="Office Location">
              </div>

              <div class="mb-3 position-relative sigCanvas-container">
                <canvas id="dashcamWitnessSigCanvas" class="sigCanvas"></canvas>
                <div class="mt-1 text-end">
                  <button type="button" class="btn btn-link btn-sm clear-sig-btn" data-canvas-id="dashcamWitnessSigCanvas">Clear</button>
                </div>
              </div>

              <input type="hidden" name="dashcamSignature" id="dashcamSignature">
              <input type="hidden" name="dashcamWitnessSignature" id="dashcamWitnessSignature">
              <input type="hidden" name="userType" value="dashcam">

              <div class="mt-3">
                <button type="submit" class="btn btn-primary w-100 mb-2">Generate PDF</button>
                <button type="button" id="resetDashcamForm" class="btn btn-secondary w-100">Reset All</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="js/staff.js"></script>
  <script src="js/customer.js"></script>
  <script src="js/dashcam.js"></script>
  <script src="js/generate-staff.js"></script>
  <script src="js/generate-customer.js"></script>
  <script src="js/generate-dashcam.js"></script>
</body>
</html>
